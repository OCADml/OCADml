<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Affine3 (OCADml.OCADml.Affine3)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">OCADml</a> &#x00BB; <a href="../index.html">OCADml</a> &#x00BB; Affine3</nav><header class="odoc-preamble"><h1>Module <code><span>OCADml.Affine3</span></code></h1><p>Affine transformation matrices for transforming 3d vectors (<a href="../V3/index.html#type-t"><code>V3.t</code></a>), and 3d shapes.</p><p>A 3d affine transformation matrix.</p></header><nav class="odoc-toc"><ul><li><a href="#basic-matrix-operations">Basic Matrix Operations</a></li><li><a href="#construction-by-rows">Construction by Rows</a></li><li><a href="#transforms">Transforms</a></li><li><a href="#output">Output</a></li><li><a href="#conversions">Conversions</a></li></ul></nav><div class="odoc-content"><div class="odoc-include"><div class="odoc-spec"><div class="spec type" id="type-row" class="anchored"><a href="#type-row" class="anchor"></a><code><span><span class="keyword">type</span> row</span><span> = float * float * float * float</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><table><tr id="type-t.r0c0" class="anchored"><td class="def record field"><a href="#type-t.r0c0" class="anchor"></a><code><span>r0c0 : float;</span></code></td></tr><tr id="type-t.r0c1" class="anchored"><td class="def record field"><a href="#type-t.r0c1" class="anchor"></a><code><span>r0c1 : float;</span></code></td></tr><tr id="type-t.r0c2" class="anchored"><td class="def record field"><a href="#type-t.r0c2" class="anchor"></a><code><span>r0c2 : float;</span></code></td></tr><tr id="type-t.r0c3" class="anchored"><td class="def record field"><a href="#type-t.r0c3" class="anchor"></a><code><span>r0c3 : float;</span></code></td></tr><tr id="type-t.r1c0" class="anchored"><td class="def record field"><a href="#type-t.r1c0" class="anchor"></a><code><span>r1c0 : float;</span></code></td></tr><tr id="type-t.r1c1" class="anchored"><td class="def record field"><a href="#type-t.r1c1" class="anchor"></a><code><span>r1c1 : float;</span></code></td></tr><tr id="type-t.r1c2" class="anchored"><td class="def record field"><a href="#type-t.r1c2" class="anchor"></a><code><span>r1c2 : float;</span></code></td></tr><tr id="type-t.r1c3" class="anchored"><td class="def record field"><a href="#type-t.r1c3" class="anchor"></a><code><span>r1c3 : float;</span></code></td></tr><tr id="type-t.r2c0" class="anchored"><td class="def record field"><a href="#type-t.r2c0" class="anchor"></a><code><span>r2c0 : float;</span></code></td></tr><tr id="type-t.r2c1" class="anchored"><td class="def record field"><a href="#type-t.r2c1" class="anchor"></a><code><span>r2c1 : float;</span></code></td></tr><tr id="type-t.r2c2" class="anchored"><td class="def record field"><a href="#type-t.r2c2" class="anchor"></a><code><span>r2c2 : float;</span></code></td></tr><tr id="type-t.r2c3" class="anchored"><td class="def record field"><a href="#type-t.r2c3" class="anchor"></a><code><span>r2c3 : float;</span></code></td></tr><tr id="type-t.r3c0" class="anchored"><td class="def record field"><a href="#type-t.r3c0" class="anchor"></a><code><span>r3c0 : float;</span></code></td></tr><tr id="type-t.r3c1" class="anchored"><td class="def record field"><a href="#type-t.r3c1" class="anchor"></a><code><span>r3c1 : float;</span></code></td></tr><tr id="type-t.r3c2" class="anchored"><td class="def record field"><a href="#type-t.r3c2" class="anchor"></a><code><span>r3c2 : float;</span></code></td></tr><tr id="type-t.r3c3" class="anchored"><td class="def record field"><a href="#type-t.r3c3" class="anchor"></a><code><span>r3c3 : float;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-id" class="anchored"><a href="#val-id" class="anchor"></a><code><span><span class="keyword">val</span> id : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The identity matrix.</p></div></div><h2 id="basic-matrix-operations"><a href="#basic-matrix-operations" class="anchor"></a>Basic Matrix Operations</h2><div class="odoc-spec"><div class="spec value" id="val-mul" class="anchored"><a href="#val-mul" class="anchor"></a><code><span><span class="keyword">val</span> mul : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mul a b</code></p><p>Multiply the matrices <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>add a b</code></p><p>Element by element addition of the matrices <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sub a b</code></p><p>Element by element subtraction of the matrix <code>b</code> from <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-emul" class="anchored"><a href="#val-emul" class="anchor"></a><code><span><span class="keyword">val</span> emul : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>emul a b</code></p><p>Element by element multiplication of the matrices <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ediv" class="anchored"><a href="#val-ediv" class="anchor"></a><code><span><span class="keyword">val</span> ediv : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>ediv a b</code></p><p>Element by element division of the matrix <code>a</code> by <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-smul" class="anchored"><a href="#val-smul" class="anchor"></a><code><span><span class="keyword">val</span> smul : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>smul t s</code></p><p>Multiply each element of the matrix <code>t</code> by the scalar <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sdiv" class="anchored"><a href="#val-sdiv" class="anchor"></a><code><span><span class="keyword">val</span> sdiv : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sdiv t s</code></p><p>Divide each element of the matrix <code>t</code> by the scalar <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sadd" class="anchored"><a href="#val-sadd" class="anchor"></a><code><span><span class="keyword">val</span> sadd : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sadd t s</code></p><p>Add the scalar <code>s</code> to each element of the matrix <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ssub" class="anchored"><a href="#val-ssub" class="anchor"></a><code><span><span class="keyword">val</span> ssub : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>ssub t s</code></p><p>Subtract the scalar <code>s</code> to from each element of the matrix <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-transpose" class="anchored"><a href="#val-transpose" class="anchor"></a><code><span><span class="keyword">val</span> transpose : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>transpose t</code></p><p>Transpose the rows and columns of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>( <span>float <span class="arrow">&#45;&gt;</span></span> float )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>map f t</code></p><p>Apply the function <code>f</code> to all elements of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-trace" class="anchored"><a href="#val-trace" class="anchor"></a><code><span><span class="keyword">val</span> trace : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>trace t</code></p><p>Sum the elements on the main diagonal (upper left to lower right) of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>get t r c</code></p><p>Get the element at <code>r</code>ow and <code>c</code>olumn of <code>t</code>. Equivalent to <code>t.(r).(c)</code>. Raises <code>Invalid_argument</code> if access is out of bounds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compose" class="anchored"><a href="#val-compose" class="anchor"></a><code><span><span class="keyword">val</span> compose : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>compose a b</code></p><p>Compose the affine transformations <code>a</code> and <code>b</code>. Equivalent to <code>mul b a</code>, which when applied, will perform the transformation <code>a</code>, then the transformation <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(%&gt;)" class="anchored"><a href="#val-(%&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (%&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a %&gt; b</code></p><p>Alias to <a href="#val-compose"><code>compose</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(%)" class="anchored"><a href="#val-(%)" class="anchor"></a><code><span><span class="keyword">val</span> (%) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a % b</code></p><p>Mathematical composition of affine transformations <code>a</code> and <code>b</code>, equivalent to <code>mul a b</code>.</p></div></div></div><h2 id="construction-by-rows"><a href="#construction-by-rows" class="anchor"></a>Construction by Rows</h2><div class="odoc-spec"><div class="spec value" id="val-of_rows" class="anchored"><a href="#val-of_rows" class="anchor"></a><code><span><span class="keyword">val</span> of_rows : <span><a href="#type-row">row</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-row">row</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-row">row</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_rows rows</code></p><p>Create an affine transformation matrix from three rows. The last row is set to <code>0., 0., 0., 1.</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_row_matrix_exn" class="anchored"><a href="#val-of_row_matrix_exn" class="anchor"></a><code><span><span class="keyword">val</span> of_row_matrix_exn : <span><span><span>float array</span> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_row_matrix_exn m</code></p><p>Convert the float matrix <code>m</code> into a <code>t</code> if it is the correct shape (4 x 4), otherwise raise <code>Invalid_argument</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_row_matrix" class="anchored"><a href="#val-of_row_matrix" class="anchor"></a><code><span><span class="keyword">val</span> of_row_matrix : <span><span><span>float array</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <a href="#type-t">t</a>, string )</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>of_row_matrix m</code></p><p>Convert the float matrix <code>m</code> into a <code>t</code> if it is the correct shape (4 x 4).</p></div></div><h2 id="transforms"><a href="#transforms" class="anchor"></a>Transforms</h2><div class="odoc-spec"><div class="spec value" id="val-scale" class="anchored"><a href="#val-scale" class="anchor"></a><code><span><span class="keyword">val</span> scale : <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>scale v</code></p><p>Create an affine transformation matrix from the xyz scaling vector <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-xscale" class="anchored"><a href="#val-xscale" class="anchor"></a><code><span><span class="keyword">val</span> xscale : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>xscale x</code></p><p>Create a 2d affine transformation matrix that applies x-axis scaling.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-yscale" class="anchored"><a href="#val-yscale" class="anchor"></a><code><span><span class="keyword">val</span> yscale : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>yscale y</code></p><p>Create a 2d affine transformation matrix that applies y-axis scaling.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-zscale" class="anchored"><a href="#val-zscale" class="anchor"></a><code><span><span class="keyword">val</span> zscale : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>zscale z</code></p><p>Create a 2d affine transformation matrix that applies z-axis scaling.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-translate" class="anchored"><a href="#val-translate" class="anchor"></a><code><span><span class="keyword">val</span> translate : <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>translate v</code></p><p>Create an affine transformation matrix from the xyz translation vector <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-xtrans" class="anchored"><a href="#val-xtrans" class="anchor"></a><code><span><span class="keyword">val</span> xtrans : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>xtrans x</code></p><p>Create an affine transformation matrix that applies a translation of <code>x</code> distance along the x-axis.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ytrans" class="anchored"><a href="#val-ytrans" class="anchor"></a><code><span><span class="keyword">val</span> ytrans : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>ytrans y</code></p><p>Create an affine transformation matrix that applies a translation of <code>y</code> distance along the y-axis.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ztrans" class="anchored"><a href="#val-ztrans" class="anchor"></a><code><span><span class="keyword">val</span> ztrans : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>ztrans z</code></p><p>Create an affine transformation matrix that applies a translation of <code>z</code> distance along the z-axis.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mirror" class="anchored"><a href="#val-mirror" class="anchor"></a><code><span><span class="keyword">val</span> mirror : <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mirror ax</code></p><p>Create an affine transformation matrix that applies a reflection across the axis <code>ax</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-xrot" class="anchored"><a href="#val-xrot" class="anchor"></a><code><span><span class="keyword">val</span> xrot : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>xrot ?about r</code></p><p>Create an affine transformation matrix that applies a x-axis rotation of <code>r</code> radians around the origin (or the point <code>about</code> if provided).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-yrot" class="anchored"><a href="#val-yrot" class="anchor"></a><code><span><span class="keyword">val</span> yrot : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>yrot ?about r</code></p><p>Create an affine transformation matrix that applies a y-axis rotation of <code>r</code> radians around the origin (or the point <code>about</code> if provided).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-zrot" class="anchored"><a href="#val-zrot" class="anchor"></a><code><span><span class="keyword">val</span> zrot : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>zrot ?about r</code></p><p>Create an affine transformation matrix that applies a z-axis rotation of <code>r</code> radians around the origin (or the point <code>about</code> if provided).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate" class="anchored"><a href="#val-rotate" class="anchor"></a><code><span><span class="keyword">val</span> rotate : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rotate ?about r</code></p><p>Create an affine transformation matrix that applies the euler (zyx) rotation represented by <code>r</code> radians around the origin (or the point <code>about</code> if provided).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-axis_rotate" class="anchored"><a href="#val-axis_rotate" class="anchor"></a><code><span><span class="keyword">val</span> axis_rotate : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>axis_rotate ?about ax r</code></p><p>Create an affine transfomation matrix that applies a rotation of <code>r</code> radians around the axis <code>ax</code> through the origin (or the point <code>about</code> if provided).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-align" class="anchored"><a href="#val-align" class="anchor"></a><code><span><span class="keyword">val</span> align : <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>align a b</code></p><p>Compute an affine transformation matrix that would bring the vector <code>a</code> into alignment with <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-skew" class="anchored"><a href="#val-skew" class="anchor"></a><code><span><span class="keyword">val</span> skew : 
  <span>?xy:float <span class="arrow">&#45;&gt;</span></span>
  <span>?xz:float <span class="arrow">&#45;&gt;</span></span>
  <span>?yx:float <span class="arrow">&#45;&gt;</span></span>
  <span>?yz:float <span class="arrow">&#45;&gt;</span></span>
  <span>?zx:float <span class="arrow">&#45;&gt;</span></span>
  <span>?zy:float <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>skew ?xy ?xz ?yx ?yz ?zx ?zy ()</code></p><p>Create an affine transformation matrix that applies a skew transformation with the given skew factor multipliers. Factors default to <code>0.</code> if not provided.</p><ul><li><code>xy</code>: skew along the x-axis as you get farther from the y-axis</li><li><code>xz</code>: skew along the x-axis as you get farther from the z-axis</li><li><code>yx</code>: skew along the y-axis as you get farther from the x-axis</li><li><code>yz</code>: skew along the y-axis as you get farther from the z-axis</li><li><code>zx</code>: skew along the z-axis as you get farther from the x-axis</li><li><code>zy</code>: skew along the z-axis as you get farther from the y-axis</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-skew_xy" class="anchored"><a href="#val-skew_xy" class="anchor"></a><code><span><span class="keyword">val</span> skew_xy : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>skew_xy xa ya</code></p><p>Create an affine transformation matrix that applies a skew transformation along the xy plane.</p><ul><li><code>xa</code>: skew angle (in radians) in the direction of the x-axis</li><li><code>ya</code>: skew angle (in radians) in the direction of the y-axis</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-skew_xz" class="anchored"><a href="#val-skew_xz" class="anchor"></a><code><span><span class="keyword">val</span> skew_xz : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>skew_xz xa za</code></p><p>Create and affine transformation matrix that applies a skew transformation along the xz plane.</p><ul><li><code>xa</code>: skew angle (in radians) in the direction of the x-axis</li><li><code>za</code>: skew angle (in radians) in the direction of the z-axis</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-skew_yz" class="anchored"><a href="#val-skew_yz" class="anchor"></a><code><span><span class="keyword">val</span> skew_yz : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>skew_yz ya za</code></p><p>Create and affine transformation matrix that applies a skew transformation along the yz plane.</p><ul><li><code>ya</code>: skew angle (in radians) in the direction of the y-axis</li><li><code>za</code>: skew angle (in radians) in the direction of the z-axis</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-transform" class="anchored"><a href="#val-transform" class="anchor"></a><code><span><span class="keyword">val</span> transform : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../V3/index.html#type-t">V3.t</a></span></code></div><div class="spec-doc"><p><code>transform t v</code></p><p>Apply the affine transformation matrix <code>t</code> to the vector <code>v</code>.</p></div></div><h2 id="output"><a href="#output" class="anchor"></a>Output</h2><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_string t</code></p><p>Convert the matrix <code>t</code> to a simple string representation compatible with OpenSCAD <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#multmatrix">multmatrix</a>.</p></div></div></div><h2 id="conversions"><a href="#conversions" class="anchor"></a>Conversions</h2><div class="odoc-spec"><div class="spec value" id="val-project" class="anchored"><a href="#val-project" class="anchor"></a><code><span><span class="keyword">val</span> project : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Affine2/index.html#type-t">Affine2.t</a></span></code></div><div class="spec-doc"><p><code>project t</code></p><p>Project <code>t</code> down into a 2d affine transformation matrix (z axis components dropped).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_quaternion" class="anchored"><a href="#val-of_quaternion" class="anchor"></a><code><span><span class="keyword">val</span> of_quaternion : <span>?trans:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Quaternion/index.html#type-t">Quaternion.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">Affine3.t</a></span></code></div><div class="spec-doc"><p><code>of_quaternion q</code></p><p>Create an affine transformation matrix equivalent to the quaternion <code>q</code>.</p></div></div></div></body></html>