<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bezier3 (OCADml.OCADml.Bezier3)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">OCADml</a> &#x00BB; <a href="../index.html">OCADml</a> &#x00BB; Bezier3</nav><header class="odoc-preamble"><h1>Module <code><span>OCADml.Bezier3</span></code></h1><p>Generation and measurement of 3d bezier curve (and patch/surface) functions. Including <a href="#val-of_path"><code>of_path</code></a>, which produces a bezier spline function that passes through all points of the given path.</p></header><nav class="odoc-toc"><ul><li><a href="#basic-transfomations">Basic Transfomations</a></li></ul></nav><div class="odoc-content"><div class="odoc-include"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <span>float <span class="arrow">&#45;&gt;</span></span> <a href="../V3/index.html#type-t">V3.t</a></span></code></div><div class="spec-doc"><p>A bezier curve function.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-coefs" class="anchored"><a href="#val-coefs" class="anchor"></a><code><span><span class="keyword">val</span> coefs : <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> array</span></span></code></div><div class="spec-doc"><p><code>coefs ps</code></p><p>Compute the bezier algebraic coefficients for the control points <code>ps</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make ps</code></p><p>Create bezier function of degree n (<code>n = List.length ps - 1</code>) from the control points <code>ps</code>. The resulting continuous curve advances from the 0th control point at <code>0.</code>, to the final control point at <code>1.</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-curve" class="anchored"><a href="#val-curve" class="anchor"></a><code><span><span class="keyword">val</span> curve : 
  <span>?init:<span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?rev:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>?endpoint:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../V3/index.html#type-t">V3.t</a> list</span></span></code></div><div class="spec-doc"><p><code>curve ?init ?rev ?fn ?endpoint t</code></p><p>Draw a path of <code>fn</code> segments (default = <code>16</code>) along the bezier curve <code>t</code>.</p><ul><li><code>init</code> can be provided to be prepended to (defaults to an empty list)</li><li>If <code>rev</code> is <code>true</code>, the bezier will be drawn in reverse (default = <code>false</code>)</li><li>If <code>endpoint</code> is <code>true</code>, the last point will be a control point (last or first depending on <code>rev</code>), otherwise it will be off by the step size (<code>1 / fn</code>) (default = <code>true</code>).</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : 
  <span>?start_u:float <span class="arrow">&#45;&gt;</span></span>
  <span>?end_u:float <span class="arrow">&#45;&gt;</span></span>
  <span>?max_deflect:float <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  float</span></code></div><div class="spec-doc"><p><code>length ?start_u ?end_u ?max_deflect ps</code></p><p>Compute the length along the bezier defined by the control points <code>ps</code> between the fractional positions <code>start_u</code> and <code>end_u</code> (<code>0.</code> to <code>1.</code> by default). This is approximated as the sum of line segments whose midpoints deviate from the bezier by no more than <code>max_deflect</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-patch" class="anchored"><a href="#val-patch" class="anchor"></a><code><span><span class="keyword">val</span> patch : <span><span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>patch grid</code></p><p>Create a bezier patch (curved surface) from an rectangular <code>grid</code> of control points.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-patch_curve" class="anchored"><a href="#val-patch_curve" class="anchor"></a><code><span><span class="keyword">val</span> patch_curve : <span>?fn:int <span class="arrow">&#45;&gt;</span></span> <span><span>( <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> list</span></span></code></div><div class="spec-doc"><p><code>patch_curve ?fn p</code></p><p>Sample a grid of <code>fn</code> by <code>fn</code> segments describing a curved surface from the bezier patch <code>p</code>. (default <code>fn = 16</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_bezpath" class="anchored"><a href="#val-of_bezpath" class="anchor"></a><code><span><span class="keyword">val</span> of_bezpath : <span>?n:int <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_bezpath ?n ps</code></p><p>Create a bezier function from a series of degree <code>n</code> beziers connected end-to-end defined by the control points <code>ps</code>. The end-point of the first curve is the start-point of the next, and so on. Thus, two cubic-beziers (<code>n = 3</code>, the default) in series is described by seven control points (middle point is shared). The number of curves is <code>List.length ps - 1 / n</code>, if <code>ps</code> cannot be broken by degree <code>n</code> in this way, an <code>Invalid_argument</code> exception will be raised.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bezpath_of_path" class="anchored"><a href="#val-bezpath_of_path" class="anchor"></a><code><span><span class="keyword">val</span> bezpath_of_path : 
  <span>?closed:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?size:
    <span>[ <span>`Abs of <span>float list</span></span>
    <span><span>| `Rel</span> of <span>float list</span></span>
    <span><span>| `Flat</span> of <span>[ <span>`Abs of float</span> <span><span>| `Rel</span> of float</span> ]</span></span>
    <span><span>| `Mix</span> of <span><span>[ <span>`Abs of float</span> <span><span>| `Rel</span> of float</span> ]</span> list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?tangents:<span>[ `NonUniform <span>| `Uniform</span> <span><span>| `Tangents</span> of <span><a href="../V3/index.html#type-t">V3.t</a> list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../V3/index.html#type-t">V3.t</a> list</span></span></code></div><div class="spec-doc"><p><code>bezpath_of_path ?closed ?uniform ?size ?tangents path</code></p><p>Create a bezier path (see <a href="#val-of_bezpath"><code>of_bezpath</code></a>) which defines a curve that passes through the points of <code>path</code>.</p><ul><li><code>size</code> sets the absolute or relative (as a fraction of segment length) distance that the computed curve can deviate from the input <code>path</code>. Provided either as a flat value for all points, or a list with a value for each <i>segment</i> of the <code>path</code> (default = <code>`Flat (`Rel 0.1)</code>).</li><li><code>tangents</code> provides control over the tangents of the computed curve where it passes through the points of <code>path</code>. Tangents can either be provided by the user with <code>`Tangents l</code>, or computed <code>`NonUniform | `Uniform</code> (see <a href="../Path2/index.html#val-tangents"><code>Path2.tangents</code></a>).</li><li>If <code>closed</code> is <code>true</code> (default = <code>false</code>), an additional segment between the last and first points of <code>path</code> will be included in the computations. Thus, this impacts the correct lengths of lists provided to the <code>size</code> and <code>tangents</code> parameters (= length of <code>path</code> if <code>closed</code>, one less if not).</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-bezpath_curve" class="anchored"><a href="#val-bezpath_curve" class="anchor"></a><code><span><span class="keyword">val</span> bezpath_curve : <span>?fn:int <span class="arrow">&#45;&gt;</span></span> <span>?n:int <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> list</span></span></code></div><div class="spec-doc"><p><code>bezpath_curve ?fn ?n ps</code></p><p>Compute a bezier function from a series of degree <code>n</code> beziers connected end-to-end defined by the control points <code>ps</code> and use to draw a path of <code>fn</code> segments. See <a href="#val-of_bezpath"><code>of_bezpath</code></a> for explanation of bezier paths.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_path" class="anchored"><a href="#val-of_path" class="anchor"></a><code><span><span class="keyword">val</span> of_path : 
  <span>?closed:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?size:
    <span>[ <span>`Abs of <span>float list</span></span>
    <span><span>| `Rel</span> of <span>float list</span></span>
    <span><span>| `Flat</span> of <span>[ <span>`Abs of float</span> <span><span>| `Rel</span> of float</span> ]</span></span>
    <span><span>| `Mix</span> of <span><span>[ <span>`Abs of float</span> <span><span>| `Rel</span> of float</span> ]</span> list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?tangents:<span>[ `NonUniform <span>| `Uniform</span> <span><span>| `Tangents</span> of <span><a href="../V3/index.html#type-t">V3.t</a> list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_path ?closed ?uniform ?size ?tangents path</code></p><p>Create a bezier function which defines a curve that passes through the points of <code>path</code>.</p><ul><li><code>size</code> sets the absolute or relative (as a fraction of segment length) distance that the computed curve can deviate from the input <code>path</code>. Provided either as a flat value for all points, or a list with a value for each <i>segment</i> of the <code>path</code> (default = <code>`Flat (`Rel 0.1)</code>).</li><li><code>tangents</code> provides control over the tangents of the computed curve where it passes through the points of <code>path</code>. Tangents can either be provided by the user with <code>`Tangents l</code>, or computed <code>`NonUniform | `Uniform</code> (see <a href="../Path2/index.html#val-tangents"><code>Path2.tangents</code></a>). Default is <code>`NonUniform</code>.</li><li>If <code>closed</code> is <code>true</code> (default = <code>false</code>), an additional segment between the last and first points of <code>path</code> will be included in the computations. Thus, this impacts the correct lengths of lists provided to the <code>size</code> and <code>tangents</code> parameters (= length of <code>path</code> if <code>closed</code>, one less if not).</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-closest_point" class="anchored"><a href="#val-closest_point" class="anchor"></a><code><span><span class="keyword">val</span> closest_point : <span>?n:int <span class="arrow">&#45;&gt;</span></span> <span>?max_err:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>closest_point ?n ?max_err t p</code></p><p>Find the fractional position along the bezier <code>t</code> closest to the point <code>p</code>. <code>t</code> is treated as cubic (degree <code>n = 3</code>) by default, subdividing the bezier by <code>3</code> for each degree. Search continues until a position less <code>max_err</code> (default = <code>0.01</code>) distance from <code>p</code> is found.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-deriv" class="anchored"><a href="#val-deriv" class="anchor"></a><code><span><span class="keyword">val</span> deriv : <span>?order:int <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../V3/index.html#type-t">V3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>deriv ?order ps</code></p><p>Calculate the <code>order</code> derivative of the bezier defined by the control points <code>ps</code>. The first derivative is taken by default (<code>order = 1</code>). <code>Invalid_argument</code> is raised if <code>order</code> is below <code>0</code>, or the degree of the bezier (<code>length ps - 1</code>) is lower than the <code>order</code>.</p></div></div></div><h2 id="basic-transfomations"><a href="#basic-transfomations" class="anchor"></a>Basic Transfomations</h2><div class="odoc-spec"><div class="spec value" id="val-translate" class="anchored"><a href="#val-translate" class="anchor"></a><code><span><span class="keyword">val</span> translate : <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-xtrans" class="anchored"><a href="#val-xtrans" class="anchor"></a><code><span><span class="keyword">val</span> xtrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ytrans" class="anchored"><a href="#val-ytrans" class="anchor"></a><code><span><span class="keyword">val</span> ytrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ztrans" class="anchored"><a href="#val-ztrans" class="anchor"></a><code><span><span class="keyword">val</span> ztrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate" class="anchored"><a href="#val-rotate" class="anchor"></a><code><span><span class="keyword">val</span> rotate : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-xrot" class="anchored"><a href="#val-xrot" class="anchor"></a><code><span><span class="keyword">val</span> xrot : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-yrot" class="anchored"><a href="#val-yrot" class="anchor"></a><code><span><span class="keyword">val</span> yrot : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-zrot" class="anchored"><a href="#val-zrot" class="anchor"></a><code><span><span class="keyword">val</span> zrot : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-quaternion" class="anchored"><a href="#val-quaternion" class="anchor"></a><code><span><span class="keyword">val</span> quaternion : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Quaternion/index.html#type-t">Quaternion.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-axis_rotate" class="anchored"><a href="#val-axis_rotate" class="anchor"></a><code><span><span class="keyword">val</span> axis_rotate : <span>?about:<a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-affine" class="anchored"><a href="#val-affine" class="anchor"></a><code><span><span class="keyword">val</span> affine : <span><a href="../Affine3/index.html#type-t">Affine3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-scale" class="anchored"><a href="#val-scale" class="anchor"></a><code><span><span class="keyword">val</span> scale : <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mirror" class="anchored"><a href="#val-mirror" class="anchor"></a><code><span><span class="keyword">val</span> mirror : <span><a href="../V3/index.html#type-t">V3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div></div></body></html>